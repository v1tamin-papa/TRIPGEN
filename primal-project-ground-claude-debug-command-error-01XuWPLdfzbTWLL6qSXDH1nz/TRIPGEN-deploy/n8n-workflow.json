{
  "name": "TripGenie AI Agent",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "tripgenie-chat",
        "responseMode": "responseNode",
        "options": {
          "allowedOrigins": "*"
        }
      },
      "id": "webhook-node",
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [250, 300],
      "webhookId": "tripgenie-chat"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://openrouter.ai/api/v1/chat/completions",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "openRouterApi",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "={{ \"Bearer \" + $env.OPENROUTER_API_KEY }}"
            },
            {
              "name": "HTTP-Referer",
              "value": "https://tripgenie.vercel.app"
            },
            {
              "name": "X-Title",
              "value": "TripGenie"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": []
        },
        "specifyBody": "json",
        "jsonBody": "={\n  \"model\": \"anthropic/claude-3.5-sonnet\",\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"–¢—ã TripGenie ‚Äî AI-–∞–≥–µ–Ω—Ç –ø–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—é –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π. –¢–≤–æ—è –∑–∞–¥–∞—á–∞:\\n\\n1. –ü–æ–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∫—É–¥–∞, –Ω–∞ —Å–∫–æ–ª—å–∫–æ, –±—é–¥–∂–µ—Ç, –∏–Ω—Ç–µ—Ä–µ—Å—ã)\\n2. –°–æ–∑–¥–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ:\\n   –î–µ–Ω—å 1: –ì–æ—Ä–æ–¥ - –º–µ—Å—Ç–∞\\n   –î–µ–Ω—å 2: ...\\n3. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã (—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç, –µ–¥–∞, –ª–∞–π—Ñ—Ö–∞–∫–∏)\\n4. –ü–∏—Å–∞—Ç—å –¥—Ä—É–∂–µ–ª—é–±–Ω–æ, –Ω–∞ '—Ç—ã', —Å —ç–º–æ–¥–∑–∏\\n5. –ï—Å–ª–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã—Ö ‚Äî –∑–∞–¥–∞—Ç—å —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã\\n\\n–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:\\nüìç –ú–∞—Ä—à—Ä—É—Ç\\nüí° –°–æ–≤–µ—Ç—ã\\nüí∞ –ü—Ä–∏–º–µ—Ä–Ω—ã–π –±—é–¥–∂–µ—Ç\"\n    },\n    {\n      \"role\": \"user\",\n      \"content\": \"={{ $json.body.message }}\"\n    }\n  ],\n  \"temperature\": 0.7,\n  \"max_tokens\": 1500\n}",
        "options": {}
      },
      "id": "openrouter-node",
      "name": "OpenRouter API",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [500, 300]
    },
    {
      "parameters": {
        "jsCode": "// –ò–∑–≤–ª–µ–∫–∞–µ–º –æ—Ç–≤–µ—Ç –æ—Ç AI\nconst aiResponse = $input.item.json.choices[0].message.content;\n\n// –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞\nreturn {\n  json: {\n    success: true,\n    response: aiResponse,\n    model: \"Claude 3.5 Sonnet\",\n    timestamp: new Date().toISOString()\n  }\n};"
      },
      "id": "code-node",
      "name": "Format Response",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [750, 300]
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={{ $json }}",
        "options": {
          "responseHeaders": {
            "entries": [
              {
                "name": "Access-Control-Allow-Origin",
                "value": "*"
              },
              {
                "name": "Content-Type",
                "value": "application/json"
              }
            ]
          }
        }
      },
      "id": "response-node",
      "name": "Respond to Webhook",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1,
      "position": [1000, 300]
    }
  ],
  "connections": {
    "Webhook": {
      "main": [
        [
          {
            "node": "OpenRouter API",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter API": {
      "main": [
        [
          {
            "node": "Format Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Format Response": {
      "main": [
        [
          {
            "node": "Respond to Webhook",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [],
  "triggerCount": 0,
  "updatedAt": "2025-11-26T00:00:00.000Z",
  "versionId": "1"
}
